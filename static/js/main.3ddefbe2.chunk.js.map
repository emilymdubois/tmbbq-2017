{"version":3,"sources":["constants.js","redux/reducer.js","redux/store.js","redux/action_creators.js","components/sidebar.js","components/map.js","index.js"],"names":["SET_ACTIVE_ID","SET_VALID_IDS","SET_RATING","SET_OPENED","SET_PITMASTER_AGE","SET_OPEN","SET_METHOD","initialState","activeId","store","createStore","state","action","type","Constants","Object","assign","validIds","rating","opened","pitmasterAge","open","method","setActiveId","Sidebar","props","changeRatingRange","setState","changeOpenedRange","changePitmasterAgeRange","changeOpen","changeMethod","changeSearch","searchText","renderControls","ratingRange","openedRange","pitmasterAgeRange","className","onChange","min","max","step","defaultValue","trackStyle","backgroundColor","handleStyle","borderColor","boxShadow","id","value","options","label","themeControlSelect","themeControlSelectContainer","themeControlInput","openCard","card","properties","scrollTo","filterByControls","data","features","filter","feature","matchesRating","matchesOpened","matchesPitmastersAge","pitmasters","p","age","length","matchesOpen","matchesMethod","RegExp","test","matchesSearch","JSON","stringify","renderDisplayCards","map","i","onCardClick","bind","activeCard","name","join","wrapperClasses","headerClasses","ref","el","onClick","rank","location","town","pro_tip","address","phone","monday_hours","tuesday_hours","wednesday_hours","thursday_hours","friday_hours","saturday_hours","sunday_hours","nextProps","nextState","this","prevProps","prevState","scrollIntoView","prevStateControls","_","pick","stateControls","isEqual","f","setValidIds","classes","href","target","rel","React","PureComponent","mapDispatchToProps","connect","mapboxgl","accessToken","Map","Array","keys","e","toString","container","mapContainer","style","center","zoom","on","addSource","addLayer","source","paint","getCanvas","cursor","event","queryRenderedFeatures","point","layers","colorCondition","radiusCondition","setPaintProperty","setFilter","Component","Application","updateWindowDimensions","width","window","innerWidth","height","innerHeight","renderVisualComponents","sharedSidebarClasses","addEventListener","removeEventListener","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3ddefbe2.chunk.js","sourcesContent":["export const SET_ACTIVE_ID = 'SET_ACTIVE_ID';\nexport const SET_VALID_IDS = 'SET_VALID_IDS';\n\nexport const SET_RATING = 'SET_RATING';\nexport const SET_OPENED = 'SET_OPENED';\nexport const SET_PITMASTER_AGE = 'SET_PITMASTER_AGE';\nexport const SET_OPEN = 'SET_OPEN';\nexport const SET_METHOD = 'SET_METHOD';\n","import * as Constants from '../constants'\n\nconst initialState = {\n  activeId: null\n};\n\nfunction reducer(state = initialState, action) {\n  switch (action.type) {\n    case Constants.SET_ACTIVE_ID: {\n      return Object.assign({}, state, {\n        activeId: action.activeId\n      });\n    }\n    case Constants.SET_VALID_IDS: {\n      return Object.assign({}, state, {\n        validIds: action.validIds\n      });\n    }\n    case Constants.SET_RATING: {\n      return Object.assign({}, state, {\n        rating: action.rating\n      });\n    }\n    case Constants.SET_OPENED: {\n      return Object.assign({}, state, {\n        opened: action.opened\n      });\n    }\n    case Constants.SET_PITMASTER_AGE: {\n      return Object.assign({}, state, {\n        pitmasterAge: action.pitmasterAge\n      });\n    }\n    case Constants.SET_OPEN: {\n      return Object.assign({}, state, {\n        open: action.open\n      });\n    }\n    case Constants.SET_METHOD: {\n      return Object.assign({}, state, {\n        method: action.method\n      });\n    }\n    default:\n      return state;\n  }\n}\n\nexport { reducer, initialState };\n","import { createStore } from 'redux';\nimport { reducer } from './reducer';\n\nconst store = createStore(reducer);\n\nexport { store };\n","import * as Constants from '../constants'\n\nexport const setActiveId = activeId => {\n  return { type: Constants.SET_ACTIVE_ID, activeId };\n}\n\nexport const setValidIds = validIds => {\n  return { type: Constants.SET_VALID_IDS, validIds };\n}\n\nexport const setRating = rating => {\n  return { type: Constants.SET_RATING, rating };\n}\n\nexport const setOpened = opened => {\n  return { type: Constants.SET_OPENED, opened };\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport ControlSelect from '@mapbox/react-control-select';\nimport ControlText from '@mapbox/react-control-text';\nimport _ from 'lodash';\nimport { setActiveId, setValidIds } from '../redux/action_creators';\nimport data from '../data';\n\nimport { Range } from 'rc-slider';\nimport 'rc-slider/assets/index.css';\n\nlet Sidebar = class Sidebar extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeId: null,\n      rating: [4, 5],\n      opened: [1900, 2016],\n      pitmasterAge: [23, 82],\n      open: 'any',\n      method: 'any',\n      scrollTo: false,\n      searchText: ''\n    };\n  }\n\n  componentWillReceiveProps(nextProps, nextState) {\n    if (this.state.activeId !== nextProps.activeId) {\n      this.setState({ activeId: nextProps.activeId, scrollTo: true });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.activeCard && this.state.scrollTo) this.activeCard.scrollIntoView();\n\n    const prevStateControls = _.pick(prevState, ['rating', 'opened', 'pitmasterAge', 'open', 'method', 'searchText']);\n    const stateControls = _.pick(this.state, ['rating', 'opened', 'pitmasterAge', 'open', 'method', 'searchText']);\n    if (!_.isEqual(prevStateControls, stateControls)) {\n      const validIds = this.filterByControls().map(f => f.properties.id);\n      this.props.setValidIds(validIds);\n    }\n  }\n\n  changeRatingRange = rating => {\n    this.setState({ rating });\n  }\n\n  changeOpenedRange = opened => {\n    this.setState({ opened });\n  }\n\n  changePitmasterAgeRange = pitmasterAge => {\n    this.setState({ pitmasterAge });\n  }\n\n  changeOpen = open => {\n    this.setState({ open });\n  }\n\n  changeMethod = method => {\n    this.setState({ method });\n  }\n\n  changeSearch = searchText => {\n    this.setState({ searchText })\n  }\n\n  renderControls = () => {\n    const ratingRange = this.state.rating[0] === this.state.rating[1] ? this.state.rating[0] : `${this.state.rating[0]} to ${this.state.rating[1]}`;\n    const openedRange = this.state.opened[0] === this.state.opened[1] ? this.state.opened[0] : `${this.state.opened[0]} to ${this.state.opened[1]}`;\n    const pitmasterAgeRange = this.state.pitmasterAge[0] === this.state.pitmasterAge[1] ? this.state.pitmasterAge[0] : `${this.state.pitmasterAge[0]} to ${this.state.pitmasterAge[1]}`;\n\n    return (\n      <div>\n        <div><span className=\"txt-bold\">Rating</span>: {ratingRange}</div>\n        <div className=\"px6\"><Range onChange={this.changeRatingRange} min={4} max={5} step={0.25} defaultValue={[4, 5]} trackStyle={[{ backgroundColor: '#333f48' }]} handleStyle={[{ borderColor: '#333f48', boxShadow: '0 0 0px' }, { borderColor: '#333f48', boxShadow: '0 0 0px' }]} /></div>\n        <div className=\"mt12\"><span className=\"txt-bold\">Established</span>: {openedRange}</div>\n        <div className=\"px6\"><Range onChange={this.changeOpenedRange} min={1900} max={2016} step={1} defaultValue={[1900, 2016]} trackStyle={[{ backgroundColor: '#333f48' }]} handleStyle={[{ borderColor: '#333f48', boxShadow: '0 0 0px' }, { borderColor: '#333f48', boxShadow: '0 0 0px' }]} /></div>\n        <div className=\"mt12\"><span className=\"txt-bold\">Pitmaster age</span>: {pitmasterAgeRange}</div>\n        <div className=\"px6\"><Range onChange={this.changePitmasterAgeRange} min={23} max={82} step={1} defaultValue={[23, 82]} trackStyle={[{ backgroundColor: '#333f48' }]} handleStyle={[{ borderColor: '#333f48', boxShadow: '0 0 0px' }, { borderColor: '#333f48', boxShadow: '0 0 0px' }]} /></div>\n        <div className=\"grid grid--gut12 mt12\">\n          <div className=\"col col--6 txt-bold\">Open</div>\n          <div className=\"col col--6 txt-bold\">Method</div>\n          <div className=\"col col--6\"><ControlSelect id='open' value={this.state.open} onChange={this.changeOpen} options={[{ label: 'Any', value: 'any' }, { label: 'Monday', value: 'monday' }, { label: 'Tuesday', value: 'tuesday' }, { label: 'Wednesday', value: 'wednesday' }, { label: 'Thursday', value: 'thursday' }, { label: 'Friday', value: 'friday' }, { label: 'Saturday', value: 'saturday' }, { label: 'Sunday', value: 'sunday' }]} themeControlSelect='py6 txt-s select--s select select--stroke select--stroke-gray-dark flex-child--grow' themeControlSelectContainer='w-full'/></div>\n          <div className=\"col col--6\"><ControlSelect id='method' value={this.state.method} onChange={this.changeMethod} options={[{ label: 'Any', value: 'any' }, { label: 'Oak', value: 'oak' }, { label: 'Mesquite', value: 'mesquite'}, { label: 'Pecan', value: 'pecan' }, { label: 'Hickory', value: 'hickory' }, { label: 'Pit', value: 'pit' }, { label: 'Smoker', value: 'smoker' }, { label: 'Rotisserie', value: 'rotisserie' }]} themeControlSelect='py6 txt-s select--s select select--stroke select--stroke-gray-dark flex-child--grow' themeControlSelectContainer='w-full'/></div>\n        </div>\n        <div className=\"mt12 txt-bold\">Search</div>\n        <ControlText id=\"search\" value={this.state.searchText} onChange={this.changeSearch} themeControlInput=\"w-full py6 txt-s select--s select select--stroke\"/>\n      </div>\n    )\n  }\n\n  openCard = card => {\n    this.setState({ activeId: card.properties.id, scrollTo: false });\n    this.props.setActiveId(card.properties.id);\n  }\n\n  filterByControls = () => {\n    return data.features.filter(feature => {\n      const { properties } = feature;\n      const matchesRating = properties.rating >= this.state.rating[0] && properties.rating <= this.state.rating[1];\n      const matchesOpened = properties.opened >= this.state.opened[0] && properties.opened <= this.state.opened[1];\n      const matchesPitmastersAge = properties.pitmasters.filter(p => {\n        return p.age >= this.state.pitmasterAge[0] && p.age <= this.state.pitmasterAge[1];\n      }).length;\n      const matchesOpen = this.state.open !== 'any' && !properties[`${this.state.open}_hours`] ? false : true;\n      const matchesMethod = this.state.method !== 'any' && !new RegExp(this.state.method, 'i').test(properties.method) ? false : true;\n      const matchesSearch = new RegExp(this.state.searchText, 'i').test(JSON.stringify(properties));\n      return matchesRating && matchesOpened && matchesPitmastersAge && matchesOpen && matchesMethod && matchesSearch;\n    });\n  }\n\n  renderDisplayCards = () => {\n    const filtered = this.filterByControls();\n    const features = filtered.map((feature, i) => {\n      const { properties } = feature;\n      const onCardClick = this.openCard.bind(this, feature);\n      const refActiveCard = el => { this.activeCard = el; };\n      const activeCard = this.state.activeId === properties.id;\n      const pitmasters = properties.pitmasters.map(p => { return `${p.name}, ${p.age}` }).join('; ');\n\n      let wrapperClasses = 'mb12';\n      wrapperClasses += activeCard ? ' color-white' : '';\n\n      let headerClasses = 'px12 py12';\n      headerClasses += activeCard ? ' bg-texas-orange round-t' : ' bg-gray-faint round';\n\n      return (\n        <div key={`feature-${i}`} className={wrapperClasses}>\n          <div ref={activeCard && refActiveCard} key={properties.id} className={headerClasses}>\n            <button className=\"w-full txt txt-m\" onClick={onCardClick}>\n              <div className=\"flex-parent flex-parent--space-between-main txt-bold\">\n                <div className=\"flex-child\">{properties.name}</div>\n                {properties.rank && <div className=\"flex-child\">#{properties.rank}</div>}\n              </div>\n              {properties.location.town}\n            </button>\n          </div>\n          {activeCard &&\n            <div>\n              <div className=\"txt-s px12 py12 mb12 bg-texas-blue round-b\">\n                <div className=\"grid grid--gut12\">\n                  <div className=\"col col--4 txt-bold\">Rating</div>\n                  <div className=\"col col--8\">{properties.rating} out of 5</div>\n                  <div className=\"col col--4 txt-bold\">Opened</div>\n                  <div className=\"col col--8\">{properties.opened}</div>\n                  <div className=\"col col--4 txt-bold\">Pitmasters</div>\n                  <div className=\"col col--8\">{pitmasters}</div>\n                  <div className=\"col col--4 txt-bold\">Method</div>\n                  <div className=\"col col--8\">{properties.method}</div>\n                  <div className=\"col col--4 txt-bold\">Pro tip</div>\n                  <div className=\"col col--8\">{properties.pro_tip}</div>\n                  <div className=\"col col--4 txt-bold\">Address</div>\n                  <div className=\"col col--8\">{properties.location.address}</div>\n                  <div className=\"col col--4 txt-bold\">Phone</div>\n                  <div className=\"col col--8\">{properties.phone}</div>\n                  <div className=\"col col--4 txt-bold\">Monday</div>\n                  <div className=\"col col--8\">{properties.monday_hours || 'Closed'}</div>\n                  <div className=\"col col--4 txt-bold\">Tuesday</div>\n                  <div className=\"col col--8\">{properties.tuesday_hours || 'Closed'}</div>\n                  <div className=\"col col--4 txt-bold\">Wednesday</div>\n                  <div className=\"col col--8\">{properties.wednesday_hours || 'Closed'}</div>\n                  <div className=\"col col--4 txt-bold\">Thursday</div>\n                  <div className=\"col col--8\">{properties.thursday_hours || 'Closed'}</div>\n                  <div className=\"col col--4 txt-bold\">Friday</div>\n                  <div className=\"col col--8\">{properties.friday_hours || 'Closed'}</div>\n                  <div className=\"col col--4 txt-bold\">Saturday</div>\n                  <div className=\"col col--8\">{properties.saturday_hours || 'Closed'}</div>\n                  <div className=\"col col--4 txt-bold\">Sunday</div>\n                  <div className=\"col col--8\">{properties.sunday_hours || 'Closed'}</div>\n                </div>\n              </div>\n            </div>\n          }\n        </div>\n      )\n    });\n    return (\n      <div>\n        {features}\n      </div>\n    )\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div>\n        <div className={classes}>\n          <div className=\"px18 py18 bg-texas-blue color-white\">\n            <div className=\"title txt-h3\">TMBBQ 2017</div>\n            <div className=\"txt-h5 mt12\">Explore the top 50 barbecue joints in Texas. Data from <a href=\"https://www.texasmonthly.com/food/the-list-the-top-50-barbecue-joints-in-texas/\" target=\"_blank\" rel=\"noopener noreferrer\"><span className=\"txt-underline\">Texas Monthly</span></a>, 2017.</div>\n          </div>\n          <div className=\"px18 py18\">\n            {this.renderControls()}\n          </div>\n          <div className=\"px18 py18 border-t border--gray-light scroll-styled scroll-auto\">\n            {this.renderDisplayCards()}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    activeId: state.activeId\n  };\n}\n\nconst mapDispatchToProps = {\n  setActiveId,\n  setValidIds\n}\n\nSidebar = connect(mapStateToProps, mapDispatchToProps)(Sidebar);\n\nexport { Sidebar };\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport mapboxgl from 'mapbox-gl';\nimport data from '../data';\nimport { setActiveId } from '../redux/action_creators';\nimport _ from 'lodash';\n\nmapboxgl.accessToken = 'pk.eyJ1IjoiZW1pbHltZHVib2lzIiwiYSI6ImNrd29kY29pYjAxc2gybmp2NDR2Y3V5MnMifQ.39rFFsI4-BiXeWLzbJHaBQ';\n\nlet Map = class Map extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeId: null,\n      validIds: [...Array(50).keys()].map(e => e.toString())\n    };\n  }\n\n  componentDidMount() {\n    this.map = new mapboxgl.Map({\n      container: this.mapContainer,\n      style: 'mapbox://styles/mapbox/light-v9',\n      center: [-98.5, 31],\n      zoom: this.props.zoom\n    });\n\n    this.map.on('load', () => {\n      this.map.addSource('places', {\n        type: 'geojson',\n        data: data\n      });\n\n      this.map.addLayer({\n        id: 'places',\n        type: 'circle',\n        source: 'places',\n        paint: {\n          'circle-color': '#333f48',\n          'circle-opacity': 0.3,\n          'circle-radius': 5,\n          'circle-stroke-width': 1,\n          'circle-stroke-color': '#333f48'\n        }\n      });\n    });\n\n    this.map.on('mouseenter', 'places', () => {\n      this.map.getCanvas().style.cursor = 'pointer';\n    });\n\n    this.map.on('click', event => {\n      const features = this.map.queryRenderedFeatures(event.point, {\n        layers: ['places']\n      });\n      const activeId = features.length ? features[0].properties.id : null;\n      this.setState({ activeId });\n      this.props.setActiveId(activeId);\n    });\n\n    this.map.on('mouseleave', 'places', () => {\n      this.map.getCanvas().style.cursor = '';\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.activeId && this.state.activeId !== nextProps.activeId) {\n      this.setState({ activeId: nextProps.activeId });\n    }\n\n    if (nextProps.validIds && !_.isEqual(this.state.validIds, nextProps.validIds)) {\n      this.setState({ validIds: nextProps.validIds })\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.state.activeId !== nextState.activeId || !_.isEqual(this.state.validIds, nextState.validIds)) return true;\n    return false;\n  }\n\n  componentDidUpdate() {\n    let { activeId, validIds } = this.state;\n    if (!activeId) activeId = '-1';\n    if (!validIds.length) validIds = ['-1'];\n\n    const colorCondition = ['match', ['get', 'id'], activeId, '#bf5700', '#333f48'];\n    const radiusCondition = ['match', ['get', 'id'], activeId, 10, 5];\n\n    this.map.setPaintProperty('places', 'circle-color', colorCondition);\n    this.map.setPaintProperty('places', 'circle-stroke-color', colorCondition);\n    this.map.setPaintProperty('places', 'circle-radius', radiusCondition);\n    this.map.setFilter('places', ['match', ['get', 'id'], validIds, true, false]);\n  }\n\n  render() {\n    const { classes} = this.props;\n    return (\n      <div className={classes}>\n        <div ref={el => this.mapContainer = el} className=\"w-full h-full\"></div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProp = state => {\n  return {\n    activeId: state.activeId,\n    validIds: state.validIds\n  }\n}\n\nconst mapDispatchToProps = {\n  setActiveId\n};\n\nMap = connect(mapStateToProp, mapDispatchToProps)(Map);\n\nexport { Map };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store'\nimport { Sidebar } from './components/sidebar';\nimport { Map } from './components/map';\nimport './site.css';\n\nclass Application extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = { width: 0, height: 0 };\n  }\n\n  updateWindowDimensions = () => {\n    this.setState({ width: window.innerWidth, height: window.innerHeight });\n  }\n\n  componentDidMount() {\n    this.updateWindowDimensions();\n    window.addEventListener('resize', this.updateWindowDimensions);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateWindowDimensions);\n  }\n\n  renderVisualComponents = () => {\n    const { width } = this.state;\n    const largeFormat = width > 500;\n    const sharedSidebarClasses = 'flex-child flex-parent flex-parent--column bg-white';\n    if (largeFormat) {\n      return (\n        <div className=\"flex-parent viewport-full relative clip\">\n          <Sidebar classes={`${sharedSidebarClasses} h-full w360`} />\n          <Map classes='flex-child flex-child--grow relative' zoom={5.5} />\n        </div>\n      )\n    } else {\n      return (\n        <div className=\"flex-parent viewport-full relative clip\">\n          <Map classes='absolute top left bottom right h300' zoom={4} />\n          <Sidebar classes={`${sharedSidebarClasses} mt300`} />\n        </div>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Provider store={store}>\n          {this.renderVisualComponents()}\n        </Provider>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<Application />, document.getElementById('app'));\n"],"sourceRoot":""}